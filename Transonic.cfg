% TRANSONIC (0.7<M<1)
%
SOLVER= RANS
KIND_TURB_MODEL= SA
REF_DIMENSIONALIZATION= DIMENSIONAL
MATH_PROBLEM= DIRECT

% RESTART
%
RESTART_SOL= NO
RESTART_ITER= 400

% COMPRESSIBLE FREE-STREAM
%
MACH_NUMBER= 0.8
AOA= 0
FREESTREAM_TEMPERATURE= 293.0
FREESTREAM_PRESSURE= 101325.0
REYNOLDS_NUMBER= 30E06
REYNOLDS_LENGTH= 1.0

% REFERENCE VALUES
%
REF_ORIGIN_MOMENT_X= 0.25
REF_ORIGIN_MOMENT_Y= 0.00
REF_ORIGIN_MOMENT_Z= 0.00
REF_LENGTH= 1.0
REF_AREA= 0

% BOUNDARY CONDITIONS
%
MARKER_HEATFLUX= ( Airfoil, 0.0 )
MARKER_FAR= ( Inlet, Outlet )
MARKER_PLOTTING= ( Airfoil )
MARKER_MONITORING= ( Airfoil )

% DISCRETIZATION
%
TIME_DOMAIN= YES
TIME_MARCHING= DUAL_TIME_STEPPING-2ND_ORDER
TIME_STEP= 5e-4
%
NUM_METHOD_GRAD= WEIGHTED_LEAST_SQUARES
CONV_NUM_METHOD_FLOW= JST
JST_SENSOR_COEFF= ( 0.5, 0.005 )
CONV_NUM_METHOD_TURB= SCALAR_UPWIND
MUSCL_TURB= NO

% SOLUTION METHODS
%
TIME_DISCRE_FLOW= EULER_IMPLICIT
TIME_DISCRE_TURB= EULER_IMPLICIT
CFL_NUMBER= 1              % <-- Increased CFL number for faster convergence
CFL_ADAPT= YES
LINEAR_SOLVER= FGMRES
LINEAR_SOLVER_ERROR= 0.1
LINEAR_SOLVER_ITER= 50

% INNER CONVERGENCE
%
INNER_ITER= 30
CONV_FIELD= REL_RMS_DENSITY
CONV_RESIDUAL_MINVAL= -4              % <-- Increased residual to stop sooner
CONV_STARTITER= 0

% TIME CONVERGENCE
%
TIME_ITER= 5000                % <-- Reduced number of time iterations
%
% Starting iteration and type for windowed-time-averaging
WINDOW_CAUCHY_CRIT= YES
WINDOW_START_ITER= 500
WINDOW_FUNCTION= HANN_SQUARE
%
% Monitored fields
CONV_WINDOW_FIELD= ( TAVG_DRAG, TAVG_LIFT )
% Time Convergence monitoring starts at iteration WINDOW_START_ITER + CONV_WINDOW_STARTITER
CONV_WINDOW_STARTITER= 0
% Epsilon to control the series convergence
CONV_WINDOW_CAUCHY_EPS= 1E-4
% Number of elements to apply the criteria
CONV_WINDOW_CAUCHY_ELEMS= 10

%
% ------------------------- INPUT/OUTPUT INFORMATION --------------------------%
%
OUTPUT_FILES= ( PARAVIEW, SURFACE_CSV )
MESH_FILENAME= airfoil.su2
MESH_FORMAT= SU2
MESH_OUT_FILENAME= mesh_out.su2
SOLUTION_FILENAME= solution_flow.dat
SOLUTION_ADJ_FILENAME= solution_adj.dat
TABULAR_FORMAT= CSV
CONV_FILENAME=history_2.0
RESTART_FILENAME= restart_flow.dat
RESTART_ADJ_FILENAME= restart_adj.dat
VOLUME_FILENAME=flow_2.0
VOLUME_ADJ_FILENAME= adjoint
GRAD_OBJFUNC_FILENAME= of_grad.dat
SURFACE_FILENAME=surface_flow_2.0
SURFACE_ADJ_FILENAME= surface_adjoint
SCREEN_OUTPUT = (INNER_ITER, RMS_DENSITY, RMS_MOMENTUM-X, RMS_MOMENTUM-Y, RMS_PRESSURE, LIFT, DRAG, Y_PLUS)
HISTORY_OUTPUT = (ITER, RMS_RES, AERO_COEFF, AOA)